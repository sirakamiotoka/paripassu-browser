@charset "UTF-8";

/* ========== 全体基本設定 ========== */
html, body {
    margin: 0;
    padding: 0;
    background-color: black;
    width: 100%;
    height: 100%;
    overflow: hidden;
    user-select: none;
    -webkit-user-drag: none;
    -moz-user-select: none;
    -webkit-app-region: no-drag;
}
html {
    touch-action: manipulation;
}

/* 全要素共通 */
* {
    user-select: none;
    -webkit-user-drag: none;
    -moz-user-select: none;
}

/* ========== レイアウトラッパー ========== */
#game-wrapper {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 100vw;
    height: calc(100vw * 41 / 52);
    max-height: 100vh;
    max-width: calc(100vh * 52 / 41);
    aspect-ratio: 52 / 41;
    background-color: black;
    overflow: hidden;
}

/* 背景 */
.bg {
    position: relative;
    width: 100%;
    height: 100%;
}

#back {
    position: absolute;
    width: 100%;
    height: 100%;
    object-fit: cover;
    opacity: 1;
    text-align: center;
    margin: 0 auto;
}

/* ========== メッセージウィンドウ ========== */
.msgwin {
    position: absolute;
    bottom: 2%;
    left: 2%;
    width: 96%;
    max-width: 96%;
    user-select: none;
    z-index: 2;
}

/* ネームボックス */
.name {
    position: relative;
    width: 30%;
    aspect-ratio: 10 / 2.4;
    margin-bottom: 0%;
    margin-left: -0vw;
z-index:1;
}

#namebox {
    width: 93%;
    height: 100%;
    object-fit: contain;
    opacity: 0.78;
    display: block;
    pointer-events: none;
    border: thick double #67c744;

}

.name p {
    position: absolute;
    left: 2.7vw;
    bottom: 3vh;
    color: #ffdbf2;
    font-size: min(4.2vw, 4.2vh);
    font-weight: bold;
    font-family: 'ヒラギノ角ゴ ProN', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
    
    margin: -0.4vh;
    user-select: none;
}

/* テキストボックス */
.text {
    position: relative;
    width: 100%;
    aspect-ratio: 10 / 2;

}

#textbox {
    width: 100%;
    height: 100%;
    object-fit: contain;
    display: block;
    opacity: 0.8;
    user-select: none;
    pointer-events: none;
z-index: 1;
    border: thick double #67c744;
   
}

.text p {
    position: absolute;
    top: 7%;
    left: 5%;
    width: 90%;
    height: 70%; 

  font-size: min(4.2vw, 4.2vh);

    font-weight: bold;
    font-family: 'ヒラギノ角ゴ ProN', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
    color: #ffdbf2;
    
     margin: -0.4vh;
    user-select: none;
}

/* ========== キャラクター画像 ========== */

#chara {
    left: -8%;
    bottom: -16%;
    position: absolute;
    height: auto;
    opacity: 1;
    transition: opacity 1s;
    z-index: 0;
    max-height: 100%;
    max-width: 100%;
}

#chara2 {
    position: absolute;
    right: -5%;
    bottom: -30%;
    width:70%;
    height: 120%;
    opacity: 0;
    transition: opacity 1s;
    z-index: 0;
    max-height: 200%;
    max-width: 100%;
}

#chara3 {
    position: absolute;
    right: 5%;
    bottom: -20%;
    width:45%;
    height: 110%;
    opacity: 0;
    transition: opacity 1s;
    z-index: 0;
    max-height: 200%;
    max-width: 100%;
}

#chara4 {
    position: absolute;
    right: 12%;
    bottom: -10%;
    width:80%;
    height: 80%;
    opacity: 0;
    transition: opacity 1s;
    z-index: 0;
max-height: 100%;
    max-width: 100%;
}

#chara5 {
    position: absolute;
    right: 3%;
    bottom: -16%;
    height: auto;
    opacity: 0;
    transition: opacity 1s;
    z-index: 0;
max-height: 100%;
    max-width: 100%;
}

#chara {
    left: -8%;
    bottom: -16%;
    position: absolute;
    height: auto;
    opacity: 1;
    transition: opacity 1s;
    z-index: 0;
    max-height: 100%;
    max-width: 100%;
}

#chara2 {
    position: absolute;
    right: -5%;
    bottom: -30%;
    width:70%;
    height: 120%;
    opacity: 0;
    transition: opacity 1s;
    z-index: 0;
    max-height: 200%;
    max-width: 100%;
}

#chara3 {
    position: absolute;
    right: 5%;
    bottom: -20%;
    width:45%;
    height: 110%;
    opacity: 0;
    transition: opacity 1s;
    z-index: 0;
    max-height: 200%;
    max-width: 100%;
}

#chara4 {
    position: absolute;
    right: 12%;
    bottom: -10%;
    width:36%;
    height: 85%;
    opacity: 0;
    transition: opacity 1s;
    z-index: 0;
max-height: 100%;
    max-width: 100%;
}

#chara5 {
    position: absolute;
    right: 3%;
    bottom: -16%;
    height: auto;
    opacity: 0;
    transition: opacity 1s;
    z-index: 0;
max-height: 100%;
    max-width: 100%;
}

/* ========== 分岐ボタン ========== */
#branch1 {
    font-weight: bold;
    top: 28%;
    left: 2%;
    background-color: #334c59;
    color: #e4e4e4;
    -webkit-text-stroke: 0.9px #222232;
    box-shadow: 0 2px 5px 1.5px rgba(0, 0, 0, 0.5);
    position: absolute;
    height: 8%;
    width: 95%;
    font-size: 2.5vw;
    font-family: "MS Pゴシック";
    opacity: 0;
    z-index: 2;
}

#branch2 {
    font-weight: bold;
    top: 58%;
    left: 2%;
    background-color: #334c59;
    color: #e4e4e4;
    -webkit-text-stroke: 0.9px #222232;
    box-shadow: 0 2px 5px 1.5px rgba(0, 0, 0, 0.5);
    position: absolute;
    height: 8%;
    width: 95%;
    font-size: 2.5vw;
    font-family: "MS Pゴシック";
    opacity: 0;
    z-index: 2;
}

/* ========== 操作ボタン ========== */
button {
    position: absolute;
    font-size: 1.5vw;
    padding: 0.4em 0.8em;
    border: none;
    border-radius: 5px;
    background-color: #334c59;
    color: #e4e4e4;
    cursor: pointer;
    transition: background-color 0.3s ease;
    user-select: none;
    box-shadow: 0 2px 5px rgba(0,0,0,0.5);
    z-index: 2;
    white-space: nowrap;
}

button:hover {
    background-color: #567a8f;
}

#loadlist { bottom: 1%; left: 2%; width: 12vw; z-index: 2;}
#savelist { bottom: 1%; left: 22%; width: 12vw; z-index: 2;}
#backlog  { bottom: 1%; left: 42%; width: 15vw; z-index: 2;}
#config   { bottom: 1%; left: 67%; width: 18vw; z-index: 2;}

#save, #load {
    opacity: 0;
    bottom: 0;
    position: absolute;
    z-index: 1;
}

#save { left: 0; }
#load { left: 115px; }

/* ========== セーブ・ロードリスト ========== */
.savefile button {
    height: 8.5%;
    width: 95%;
    font-size: 2.5vw;
    font-family: "MS Pゴシック";
    opacity: 0;
    z-index: 1;
    font-weight: bold;
    left: 2%;
    background-color: #717272;
    color: #e4e4e4;
    position: absolute;
    z-index: 6;
}
.loadfile button {
    height: 8.5%;
    width: 95%;
    font-size: 2.5vw;
    font-family: "MS Pゴシック";
    opacity: 0;
    z-index: 1;
    font-weight: bold;
    left: 2%;
    background-color: #717272;
    color: #e4e4e4;
    position: absolute;
    z-index: 6;
}
#saveend {
    top: 88%;
    left: 2%;
    height: 7%;
    width: 15%;
}
#loadend {
    top: 88%;
    left: 2%;
    height: 7%;
    width: 15%;
}

#saveclear {
    top: 88%;
    left: 69%;
    height: 7%;
    width: 28%;
}

#save1, #load1 { top: 8%; }
#save2, #load2 { top: 18%; }
#save3, #load3 { top: 28%; }
#save4, #load4 { top: 38%; }
#save5, #load5 { top: 48%; }
#save6, #load6 { top: 58%; }
#save7, #load7 { top: 68%; }
#save8, #load8 { top: 78%; }



/* ========== その他 ========== */
.js-text-anime span {
    opacity: 0;
}

#blBG {
    position: absolute;
    user-select: none;
    opacity: 0;
    z-index: 0;
}

#scene {
    position: absolute;
    user-select: none;
    opacity: 0;
    z-index: 0;
    transition: opacity 1s;
}

#scene_sep {
    position: absolute;
    user-select: none;
    opacity: 0;
    z-index: 0;
}

.cgscene img {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}

#CG {
    position: absolute;
    user-select: none;
    opacity: 0;
    z-index: 1;
    width: 100%;
}

#bl1 {
    color: white;
    position: absolute;
    bottom: 5%;
    padding: 1%;
    left: 6%;
    font-size: 2.3vw;
    width: 92%;
    z-index: 4;
    opacity: 0;
}

#textbox, #namebox {
    pointer-events: none; /* 画像はクリック透過 */
}
/* ========== メディアクエリ（レスポンシブ対応） ========== */
@media (max-width: 800px) {
    .name p, .text p {
        font-size: 5vw !important;
    }
    .name p {
    left: 2.6vw !important;
    }
    button {
        font-size: 3vw !important;
        padding: 0.5em 1em !important;
    }
    #branch1, #branch2 {
        font-size: 3vw !important;
        height: 10%;
    }
    #loadlist, #savelist {
        width: 14vw !important;
    }
    #backlog{
        width: 17vw !important;
    }
    #config {
        width: 20vw !important;
    }
}

@media (max-height: 500px) {
    .name p, .text p {
        font-size: 4.8vh !important;
    }
    .name p {
    left: 2.6vw !important;
    }
    button {
        font-size: 3vh !important;
        padding: 0.5em 1em !important;
    }
    #branch1, #branch2 {
        font-size: 3vh !important;
        height: 10%;
    }
    #loadlist, #savelist {
        width: 14vw !important;
    }
    #backlog{
        width: 17vw !important;
    }
    #config {
        width: 20vw !important;
    }

}
@media (min-height: 401px) {
.name p {
    font-size: 130% !important;
    bottom: 1.5vh !important;
    }
}
@media (min-width: 501px) and (min-height: 501px) {
.name p {
    font-size: 3.4vh !important;
    bottom: 0.9vw !important;
    }
}
@media (min-width: 601px) and (min-height: 651px) {
.name p {
    font-size: 3.95vh !important;
    bottom: 1vw !important;
    }
}
@media (min-width: 801px) and (min-height: 751px) {
.name p {
    font-size: 320% !important;
    bottom: 0.8vw !important;
    }
}
